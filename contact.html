<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/contact.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>Contact Me</title>
</head>
<body>
    <style>
        body{
            background-color: #8f50ec;
        }
    </style>
    <div class="container">
        <div class="item">
            <div class="contact">
                <div class="first-text">Request A Developer</div>
                <img src="./assets/img/contact_us.png" alt="" class="image">
                <div class="social-links">
                    <span class="second-text">Connect On Different Platform:</span>
                    <ul class="social-media">
                        <li><a href="#"><i class='bx bxl-discord-alt'></i></a></li>
                        <li><a href="#"><i class='bx bxl-gmail'></i></a></li>
                    </ul>
                </div>
                <div class="goback">
                    <ul class="go-back-btn">
                        <li><a href="./index.html">Go Back</a></li>
                    </ul>
                </div>
            </div>
            <div class="submit-form">
                <h4 class="third-text text">Contact Us</h4>
                <form onsubmit="sendContact(event)">
                    <div class="input-box">
                        <label style="color: #fff;">Roblox Username</label>
                        <input type="text" class="input" id="robloxinput" required>
                    </div>
                    <div class="input-box">
                        <label style="color: #fff;">Discord Username</label>
                        <input type="text" class="input" id="discordinput" required>
                    </div>
                    <div class="input-box">
                        <label style="color: #fff;">Message</label>
                        <textarea name="" id="messageInput" cols="30" rows="10" class="input" required></textarea>
                    </div>
                    <div class="upload-box" style="margin-top: 150px;">
                        <label for="formFileMultiple" class="form-label">Multiple files input example</label>
                        <input class="form-control" type="file" id="formFileMultiple" multiple />
                    </div>
                    <button type="submit">Submit</button>
                </form>
    <script>
        async function sendContact(ev) {
          ev.preventDefault();
  
          const senderEmail = document
            .getElementById('discordinput').value;
          const senderMessage = document
            .getElementById('messageInput').value;
          const senderUser = document
          .getElementById('robloxinput').value;
          const images = document.getElementById('formFileMultiple').value;
          const webhookBody = {
            embeds: [{
              title: 'Contact Form Submitted',
              fields: [
                { name: 'Roblox Username:', value: senderUser },
                { name: 'Discord Username:', value: senderEmail },
                { Name: 'Images (If Any)', value: images},
                { name: 'Message:', value: senderMessage }
              ]
            }],
          };
  
          const webhookUrl = 'https://discord.com/api/webhooks/1139194954804101130/eSgU5VPUV2gaSRg2NT0Y4CarFgumGHexU07XFIX2W0DEmFOtOX_Pu2bXw3y7BZsIUpMu';
  
          const response = await fetch(webhookUrl, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(webhookBody),
          });
  
          if (response.ok) {
            document.getElementById("myModal").style.display = "block";
          } else {
            alert('There was an error! Try again later!');
          }
        }
      </script>
</body>
</html>